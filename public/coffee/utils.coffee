window.utils = {
  guid: ->
    'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace /[xy]/g, (c) ->
      r = Math.random() * 16 | 0
      v = if c is 'x' then r else (r & 0x3|0x8)
      v.toString(16)

  querystring: (name) ->
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]")
    regex = new RegExp("[\\?&]" + name + "=([^&#]*)")
    results = regex.exec(location.search);
    if results == null then "" else decodeURIComponent(results[1].replace(/\+/g, " "))

  escape: (str) ->
    return '' unless str?.replace?
    str.replace(/&/g, "&amp;")
       .replace(/</g, "&lt;")
       .replace(/>/g, "&gt;")

  loadCSS: (path) ->
    $('head').append("""<link rel="stylesheet" type="text/css" href="#{path}">""")

  loadCoffeeScript: (path, cb=null) ->
    $.get path, (data) ->
        eval(data)
        cb() if cb?
        # console.log data
    # CoffeeScript.load(path, cb)

  fakeStudentData: ->
    {
       "name":"Bloggs, Joe",
       "attendance":{
          "present":"93.9",
          "late":"0.0",
          "authorised":"4.9",
          "nonAuthorised":"1.1"
       },
       "classGroup":{
          "classGroupCode":"11-8",
          "classGroupName":"11-8",
          "tutors":"Mr A. Fake"
       },
       "year":{
          "yearCode":"11",
          "yearName":"Yr 11",
          "yearLongName":"Year 11"
       },
       "subjects":{
          "SP":{
             "subjectName":"Spanish",
             "teachingGroupCode":"11\/1\/SP1",
             "teacherNames":"Ms M. Castan Torres",
             "results":{
                "3BG":"5c",
                "3EC":"10",
                "4BG":"C3",
                "4EC":"1",
                "10A2":"E1",
                "10A4":"E1",
                "10A5":"E1",
                "10A6":"D3",
                "@10A1T":"A3",
                "@10A2T":"A3",
                "@10A3T":"A3",
                "@10A4T":"A3",
                "@10A5T":"A3",
                "@10A6T":"A3",
                "11A1":"D2",
                "11A2":"D1",
                "11A3":"F1",
                "11A4":"G1",
                "@8A4T":"6c",
                "@8A5T":"6c",
                "@8A6T":"6c",
                "@9A1T":"6c",
                "@9A2T":"6c",
                "@9A3T":"6c",
                "@9A4T":"6c",
                "@9A5T":"6c",
                "@9A6T":"6c",
                "8A4T":"5c",
                "8A5T":"5c",
                "8A6T":"5b",
                "9A1T":"5b",
                "9A2T":"5b",
                "9A3T":"5a",
                "9A4T":"5a",
                "9A5T":"5a",
                "9A6T":"6c",
                "3KST":"6c",
                "@11A1T":"A3",
                "@11A2T":"A3",
                "@11A3T":"A3",
                "@11A4T":"A3",
                "@11A5T":"A3",
                "@11A6T":"A3",
                "10A1T":"C3",
                "10A2T":"C2",
                "10A3T":"C2",
                "10A4T":"C1",
                "10A5T":"C1",
                "10A6T":"B3",
                "11A1T":"B3",
                "11A2T":"B2",
                "11A3T":"B2",
                "11A4T":"B1",
                "11A5T":"B1",
                "11A6T":"A3",
                "4KST":"A3",
                "Y10BG":"C3",
                "Y10EC":"1",
                "Y11BG":"D3",
                "Y11EC":"1"
             }
          },
          "GG":{
             "subjectName":"Geography",
             "teachingGroupCode":"11\/2\/GG1",
             "teacherNames":"Miss S. Taylor",
             "results":{
                "3BG":"5c",
                "3EC":"10",
                "3DU":"12",
                "4BG":"C3",
                "4EC":"1",
                "10A2":"C3",
                "10A4":"C2",
                "10A5":"C1",
                "10A6":"C1",
                "@10A1T":"A3",
                "@10A2T":"A3",
                "@10A3T":"A3",
                "@10A4T":"A3",
                "@10A5T":"A3",
                "@10A6T":"A3",
                "11A1":"C1",
                "11A2":"C2",
                "11A3":"B3",
                "11A4":"B3",
                "@7A1T":"6c",
                "@7A2T":"6c",
                "@7A3T":"6c",
                "@7A4T":"6c",
                "@7A5T":"6c",
                "@7A6T":"6c",
                "8A4":"4b",
                "8A6":"4a",
                "9A2":"5a",
                "9A4":"5a",
                "9A6":"6c",
                "@8A4T":"5b",
                "@8A5T":"5b",
                "@8A6T":"5b",
                "8A4T":"5c",
                "8A5T":"5c",
                "3KS":"4a",
                "8A6T":"5b",
                "3KST":"5b",
                "@11A1T":"A3",
                "@11A2T":"A3",
                "@11A3T":"A3",
                "@11A4T":"A3",
                "@11A5T":"A3",
                "@11A6T":"A3",
                "10A1T":"C3",
                "10A2T":"C2",
                "10A3T":"C2",
                "10A4T":"C1",
                "10A5T":"C1",
                "10A6T":"B3",
                "11A1T":"B3",
                "11A2T":"B2",
                "11A3T":"B2",
                "11A4T":"B1",
                "11A5T":"B1",
                "11A6T":"A3",
                "4KST":"A3",
                "Y10BG":"C3",
                "Y10EC":"1",
                "Y11BG":"C1",
                "Y11EC":"1"
             }
          },
          "BS":{
             "subjectName":"Business Studies",
             "teachingGroupCode":"11\/3\/BS1",
             "teacherNames":"Mrs O. Cole",
             "results":{
                "3BG":"5c",
                "3EC":"10",
                "4BG":"C3",
                "4EC":"1",
                "10A2":"D3",
                "10A4":"D3",
                "10A5":"D3",
                "10A6":"D3",
                "@10A1T":"A3",
                "@10A2T":"A3",
                "@10A3T":"A3",
                "@10A4T":"A3",
                "@10A5T":"A3",
                "@10A6T":"A3",
                "11A1":"D3",
                "11A2":"B1",
                "11A3":"B1",
                "11A4":"B1",
                "@8A4T":"6c",
                "@8A5T":"6c",
                "@8A6T":"6c",
                "@9A1T":"6c",
                "@9A2T":"6c",
                "@9A3T":"6c",
                "@9A4T":"6c",
                "@9A5T":"6c",
                "@9A6T":"6c",
                "8A4T":"5c",
                "8A5T":"5c",
                "8A6T":"5b",
                "9A1T":"5b",
                "9A2T":"5b",
                "9A3T":"5a",
                "9A4T":"5a",
                "9A5T":"5a",
                "9A6T":"6c",
                "3KST":"6c",
                "@11A1T":"A3",
                "@11A2T":"A3",
                "@11A3T":"A3",
                "@11A4T":"A3",
                "@11A5T":"A3",
                "@11A6T":"A3",
                "10A1T":"C3",
                "10A2T":"C2",
                "10A3T":"C2",
                "10A4T":"C1",
                "10A5T":"C1",
                "10A6T":"B3",
                "11A1T":"B3",
                "11A2T":"B2",
                "11A3T":"B2",
                "11A4T":"B1",
                "11A5T":"B1",
                "11A6T":"A3",
                "4KST":"A3",
                "Y10BG":"C3",
                "Y10EC":"1",
                "Y11BG":"D3",
                "Y11EC":"1"
             }
          },
          "#REG":{
             "subjectName":"Registration",
             "teachingGroupCode":"11-8",
             "teacherNames":"Ms L. Chu"
          },
          "HU":{
             "subjectName":"Humanities",
             "teachingGroupCode":"11W\/EH\/HU1",
             "teacherNames":"Mrs O. Adewumi",
             "results":{
                "3BG":"5c",
                "3EC":"10",
                "3DU":"12",
                "4BG":"C3",
                "4EC":"1",
                "10A2":"D1",
                "10A4":"F1",
                "10A5":"C2",
                "10A6":"B3",
                "@10A1T":"A3",
                "@10A2T":"A3",
                "@10A3T":"A3",
                "@10A4T":"A3",
                "@10A5T":"A3",
                "@10A6T":"A3",
                "11A1":"B3",
                "11A2":"B2",
                "11A3":"B3",
                "11A4":"B3",
                "@8A4T":"5b",
                "@8A5T":"5b",
                "@8A6T":"5b",
                "8A4T":"5c",
                "8A5T":"5c",
                "8A6T":"5b",
                "3KST":"5b",
                "@11A1T":"A3",
                "@11A2T":"A3",
                "@11A3T":"A3",
                "@11A4T":"A3",
                "@11A5T":"A3",
                "@11A6T":"A3",
                "10A1T":"C3",
                "10A2T":"C2",
                "10A3T":"C2",
                "10A4T":"C1",
                "10A5T":"C1",
                "10A6T":"B3",
                "11A1T":"B3",
                "11A2T":"B2",
                "11A3T":"B2",
                "11A4T":"B1",
                "11A5T":"B1",
                "11A6T":"A3",
                "4KST":"A3",
                "Y10BG":"C3",
                "Y10EC":"1",
                "Y11BG":"B3",
                "Y11EC":"1"
             }
          },
          "EN":{
             "subjectName":"English",
             "teachingGroupCode":"11W\/EN3",
             "teacherNames":"Mr M. Higgins",
             "results":{
                "3BG":"5c",
                "3EC":"10",
                "3DU":"12",
                "4BG":"C3",
                "4EC":"1",
                "10A2":"C1",
                "10A4":"C1",
                "10A5":"C1",
                "10A6":"B3",
                "@10A1T":"A3",
                "@10A2T":"A3",
                "@10A3T":"A3",
                "@10A4T":"A3",
                "@10A5T":"A3",
                "@10A6T":"A3",
                "11A1":"B3",
                "11A2":"B1",
                "11A3":"B1",
                "11A4":"B1",
                "@7A1T":"6c",
                "@7A2T":"6c",
                "@7A3T":"6c",
                "@7A4T":"6c",
                "@7A5T":"6c",
                "@7A6T":"6c",
                "8A4":"4a",
                "8A6":"5b",
                "9A2":"5a",
                "9A4":"5a",
                "9A6":"6c",
                "@8A4T":"5b",
                "@8A5T":"5b",
                "@8A6T":"5b",
                "8A4T":"5c",
                "8A5T":"5c",
                "3KS":"5b",
                "8A6T":"5b",
                "3KST":"5b",
                "@11A1T":"A3",
                "@11A2T":"A3",
                "@11A3T":"A3",
                "@11A4T":"A3",
                "@11A5T":"A3",
                "@11A6T":"A3",
                "10A1T":"C3",
                "10A2T":"C2",
                "10A3T":"C2",
                "10A4T":"C1",
                "10A5T":"C1",
                "10A6T":"B3",
                "11A1T":"B3",
                "11A2T":"B2",
                "11A3T":"B2",
                "11A4T":"B1",
                "11A5T":"B1",
                "11A6T":"A3",
                "4KST":"A3",
                "Y10BG":"C3",
                "Y10EC":"1",
                "Y11BG":"B3",
                "Y11EC":"1"
             }
          },
          "MA":{
             "subjectName":"Mathematics",
             "teachingGroupCode":"11W\/MA4",
             "teacherNames":"",
             "results":{
                "3BG":"4b",
                "3EC":"10",
                "3DU":"12",
                "4BG":"D2",
                "4EC":"1",
                "10A2":"D1",
                "10A4":"D1",
                "10A5":"C3",
                "10A6":"C1",
                "@10A1T":"B2",
                "@10A2T":"B2",
                "@10A3T":"B2",
                "@10A4T":"B2",
                "@10A5T":"B2",
                "@10A6T":"B2",
                "11A1":"C2",
                "11A2":"C3",
                "11A3":"D1",
                "11A4":"D1",
                "@7A1T":"5a",
                "@7A2T":"5a",
                "@7A3T":"5a",
                "@7A4T":"5a",
                "@7A5T":"5a",
                "@7A6T":"5a",
                "8A4":"4c",
                "8A6":"4a",
                "9A2":"5c",
                "9A4":"6c",
                "9A6":"6c",
                "@8A4T":"6c",
                "@8A5T":"6c",
                "@8A6T":"6c",
                "8A4T":"4a",
                "8A5T":"5b",
                "3KS":"4a",
                "8A6T":"6c",
                "3KST":"6c",
                "@11A1T":"B2",
                "@11A2T":"B2",
                "@11A3T":"B2",
                "@11A4T":"B2",
                "@11A5T":"B2",
                "@11A6T":"B2",
                "10A1T":"D2",
                "10A2T":"D1",
                "10A3T":"D1",
                "10A4T":"C3",
                "10A5T":"C3",
                "10A6T":"C2",
                "11A1T":"C2",
                "11A2T":"C1",
                "11A3T":"C1",
                "11A4T":"B3",
                "11A5T":"B3",
                "11A6T":"B2",
                "4KST":"B2",
                "Y10BG":"D2",
                "Y10EC":"1",
                "Y11BG":"C1",
                "Y11EC":"1"
             }
          },
          "SC":{
             "subjectName":"Science",
             "teachingGroupCode":"11W\/SC5",
             "teacherNames":" S. Oldbury",
             "results":{
                "3BG":"3a",
                "3EC":"10",
                "3DU":"12",
                "4BG":"E1",
                "4EC":"1",
                "10A2":"D3",
                "@10A1T":"C1",
                "@10A2T":"C1",
                "@10A3T":"C1",
                "@10A4T":"C1",
                "@10A5T":"C1",
                "@10A6T":"C1",
                "11A1":"D1",
                "11A2":"D3",
                "11A3":"D2",
                "11A4":"D1",
                "@7A1T":"5c",
                "@7A2T":"5c",
                "@7A3T":"5c",
                "@7A4T":"5c",
                "@7A5T":"5c",
                "@7A6T":"5c",
                "8A4":"4b",
                "8A6":"4a",
                "9A2":"5a",
                "9A4":"5a",
                "9A6":"6c",
                "@8A4T":"5b",
                "@8A5T":"5b",
                "@8A6T":"5b",
                "8A4T":"4c",
                "8A5T":"4a",
                "3KS":"4a",
                "8A6T":"5b",
                "3KST":"5b",
                "@11A1T":"C1",
                "@11A2T":"C1",
                "@11A3T":"C1",
                "@11A4T":"C1",
                "@11A5T":"C1",
                "@11A6T":"C1",
                "10A1T":"E1",
                "10A2T":"D3",
                "10A3T":"D3",
                "10A4T":"D2",
                "10A5T":"D2",
                "10A6T":"D1",
                "11A1T":"D1",
                "11A2T":"C3",
                "11A3T":"C3",
                "11A4T":"C2",
                "11A5T":"C2",
                "11A6T":"C1",
                "4KST":"C1",
                "Y10BG":"E1",
                "Y10EC":"1",
                "Y11BG":"E1",
                "Y11EC":"1"
             }
          },
          "SC(ad)":{
             "subjectName":"Science (additional)",
             "teachingGroupCode":"11W\/SCad5",
             "teacherNames":" S. Oldbury",
             "results":{
                "4BG":"E1",
                "4EC":"1",
                "@10A1T":"C1",
                "@10A2T":"C1",
                "@10A3T":"C1",
                "@10A4T":"C1",
                "@10A5T":"C1",
                "@10A6T":"C1",
                "11A1":"D1",
                "11A2":"D3",
                "11A3":"D2",
                "11A4":"D1",
                "@11A1T":"C1",
                "@11A2T":"C1",
                "@11A3T":"C1",
                "@11A4T":"C1",
                "@11A5T":"C1",
                "@11A6T":"C1",
                "10A1T":"E1",
                "10A2T":"D3",
                "10A3T":"D3",
                "10A4T":"D2",
                "10A5T":"D2",
                "10A6T":"D1",
                "11A1T":"D1",
                "11A2T":"C3",
                "11A3T":"C3",
                "11A4T":"C2",
                "11A5T":"C2",
                "11A6T":"C1",
                "4KST":"C1",
                "Y10BG":"E1",
                "Y10EC":"1",
                "Y11BG":"E1",
                "Y11EC":"1"
             }
          }
       }
    }


}